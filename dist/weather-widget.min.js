/*
 * jQuery Weather Widget
 * 2015 Matt O'Connell <mattoconnell408@gmail.com> 
 * License: MIT
 */
 
!function(a,b){"use strict";var c=function(b,c){var e=this;e.$el=a(b).addClass("weather-widget"),e.defaults=d,e.init=function(){e.pollAPI(c,e.makeWidget)},e.init()},d={lat:"40.748441",lon:"-73.985793",url:"https://api.forecast.io/forecast/",key:"50efc01999c6c329ae64ade7449047fe",cacheTime:30};c.prototype.makeURL=function(a){return a.url+a.key+"/"+a.lat+","+a.lon},c.prototype.pollAPI=function(c,e){var f=this,c=a.extend(d,c),g=f.makeURL(c),h=b?b.get(g,c.cacheTime):!1;return h?(e.call(f,h),!1):void a.ajax({dataType:"jsonp",url:g,success:function(a){b&&b.set(g,a),e&&e.call(f,a)},error:function(a){console.log(a)}})};var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];c.prototype.makeWidget=function(b){for(var c=b.currently,d=b.hourly.data,f=b.daily.data,g=this,h=a("<h1>"+c.temperature+"&deg;</h1><h2>"+c.summary+"</h2>"),i=a('<div class="hourly"></div>'),j=a('<div class="daily"></div>'),k=0;5>k;k++){var l=Math.round(d[k+1].temperature),m=d[k+1].icon,n=(new Date).getHours()+k,o=n>=12?"pm":"am";n>23&&(n=Math.abs(23-n),o="am"),n%=12,n=n?n:12,i.append(a('<div><span class="time">'+n+o+'</span><span class="icon '+m+'"></span><span class="temp">'+l+"&deg;</span></div>"))}j.append(a('<div class="daily-title"><span>7 Day Forecast</span><span>High</span><span>Low</span></div>'));for(var p=0;7>p;p++){var q=e[new Date(1e3*f[p].time).getDay()],m=f[p].icon,r=Math.round(f[p].temperatureMax),s=Math.round(f[p].temperatureMin);j.append(a('<div><span class="day">'+q+'</span><span class="icon '+m+'"></span><span class="max">'+r+'&deg;</span><span class="min">'+s+"&deg;</span></div>"))}var t=g.$el.append(h).append(i).append(j);g.$el.append(t)},a.fn.weatherWidget=function(a){return this.each(function(){new c(this,a)})},a.extend({weatherWidget:c.prototype})}(jQuery,"undefined"!=typeof lsLite?lsLite:null);
//# sourceMappingURL=weather-widget.min.js.map